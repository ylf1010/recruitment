<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="cache-control" content="no-cache">
	<meta http-equiv="expires" content="0">
	<title>登录界面</title>
	<link href="../lxx/log/css/default.css" rel="stylesheet" type="text/css" />
	<!--必要样式-->
	<link href="../lxx/log/css/styles.css" rel="stylesheet" type="text/css" />
	<link href="../lxx/log/css/demo.css" rel="stylesheet" type="text/css" />
	<link href="../lxx/log/css/loaders.css" rel="stylesheet" type="text/css" />
	<link href="../lxx/log/layui/css/layui.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="../lxx/log/js/jquery.min.js"></script>
	<script type="text/javascript" src="../lxx/log/js/jquery-ui.min.js"></script>
	<script type="text/javascript" src='../lxx/log/js/stopExecutionOnTimeout.js?t=1'></script>
	<script type="text/javascript" src="../lxx/log/layui/layui.js"></script>
	<script type="text/javascript" src="../lxx/log/js/Particleground.js"></script>
	<script type="text/javascript" src="../lxx/log/js/Treatment.js"></script>
	<script type="text/javascript" src="../lxx/log/js/jquery.mockjax.js"></script>

</head>
<body>
<div class='login'>
	<div class='login_title'>
		<span>管理员登录</span>
	</div>
	<div class='login_fields'>
		<div class='login_fields__user'>
			<div class='icon'>
				<img alt="" src='../lxx/log/img/user_icon_copy.png'>
			</div>
			<input name="username" id="username" placeholder='用户名' maxlength="16" type='text' autocomplete="off" value="123456"/>
			<div class='validation'>
				<img alt="" src='../lxx/log/img/tick.png'>
			</div>
		</div>
		<div class='login_fields__password'>
			<div class='icon'>
				<img alt="" src='../lxx/log/img/lock_icon_copy.png'>
			</div>
			<input name="userpowd" id="userpowd" placeholder='密码' maxlength="16" type='text' autocomplete="off">
			<div class='validation'>
				<img alt="" src='../lxx/log/img/tick.png'>
			</div>
		</div>
		<div class='login_fields__password'>


		</div>
		<div class='login_fields__submit'>
			<input type='button' value='登录' onclick="clickLogin()" >
		</div>
	</div>
	<div class='success'>
	</div>
	<div class='disclaimer'>
		<p><center>欢迎登录后台管理系统</center></p>
	</div>
</div>
<div class='authent'>
	<div class="loader" style="height: 44px;width: 44px;margin-left: 28px;">
		<div class="loader-inner ball-clip-rotate-multiple">
			<div></div>
			<div></div>
			<div></div>
		</div>
	</div>
	<p>认证中...</p>
</div>
<div class="OverWindows"></div>

<script type="text/javascript">
	function clickLogin(){
		if($("#username").val()==null || $("#username").val()==""){
			alert("用户名不能为空");
			return ;
		}
		if($("#userpowd").val()==null || $("#userpowd").val()==""){
			alert("密码不能为空");
			return ;
		}
		$.ajax({
			url:"../user/LoginUser?username="+$("#username").val()+"&password="+$("#userpowd").val(),
			success:function (flag){
				if(flag==0){
					alert("用户名不存在！！！");
				}else if(flag==2){
					alert("密码错误！！！");
				}else{
					location.href = "../user/showTree";
				}
			},
			error:function (){
				alert("后台错误，请使用debug调试！！！");
			}
		})
	}
	var canGetCookie = 0;//是否支持存储Cookie 0 不支持 1 支持
	var ajaxmockjax = 1;//是否启用虚拟Ajax的请求响 0 不启用  1 启用


	var CodeVal = 0;
	Code();
	function Code() {
		if(canGetCookie == 1){
			createCode("AdminCode");
			var AdminCode = getCookieValue("AdminCode");
			showCheck(AdminCode);
		}else{
			showCheck(createCode(""));
		}
	}
	function showCheck(a) {
		CodeVal = a;
		var c = document.getElementById("myCanvas");

	}
	$(document).keypress(function (e) {
		// 回车键事件
		if (e.which == 13) {
			$('input[type="button"]').click();
		}
	});
	//粒子背景特效
	$('body').particleground({
		dotColor: '#E8DFE8',
		lineColor: '#133b88'
	});
	$('input[name="pwd"]').focus(function () {
		$(this).attr('type', 'password');
	});
	$('input[type="text"]').focus(function () {
		$(this).prev().animate({ 'opacity': '1' }, 200);
	});
	$('input[type="text"],input[type="password"]').blur(function () {
		$(this).prev().animate({ 'opacity': '.5' }, 200);
	});
	$('input[name="login"],input[name="pwd"]').keyup(function () {
		var Len = $(this).val().length;
		if (!$(this).val() == '' && Len >= 5) {
			$(this).next().animate({
				'opacity': '1',
				'right': '30'
			}, 200);
		} else {
			$(this).next().animate({
				'opacity': '0',
				'right': '20'
			}, 200);
		}
	});

	var fullscreen = function () {
		elem = document.body;
		if (elem.webkitRequestFullScreen) {
			elem.webkitRequestFullScreen();
		} else if (elem.mozRequestFullScreen) {
			elem.mozRequestFullScreen();
		} else if (elem.requestFullScreen) {
			elem.requestFullscreen();
		} else {
			//浏览器不支持全屏API或已被禁用
		}
	}

</script>
</body>
</html>
